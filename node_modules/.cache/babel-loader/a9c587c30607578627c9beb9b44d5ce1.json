{"ast":null,"code":"import _regeneratorRuntime from \"/Users/samet/myproject/myproject/ibet-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/samet/myproject/myproject/ibet-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/samet/myproject/myproject/ibet-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/samet/myproject/myproject/ibet-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/samet/myproject/myproject/ibet-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/samet/myproject/myproject/ibet-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/samet/myproject/myproject/ibet-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/samet/myproject/myproject/ibet-web/src/components/home.js\";\nimport React, { Component } from 'react';\nimport Footer from \"./footer\";\nimport TopNavbar from \"./top_navbar\";\nimport { connect } from 'react-redux';\nimport { authCheckState } from '../actions';\nimport { FormattedMessage } from 'react-intl';\nimport Marquee from \"react-smooth-marquee\";\nimport axios from 'axios';\nimport { config } from '../util_config';\nimport moment from 'moment';\nimport { NavLink } from 'react-router-dom';\nimport '../css/home.css';\nvar API_URL = process.env.REACT_APP_REST_API;\nvar height = window.innerHeight;\nexport var Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      notices: [],\n      sports: [],\n      casino: [],\n      poker: [],\n      ready: false\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var URL;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.props.authCheckState();\n                axios.get(API_URL + 'operation/api/notice-message', config).then(function (res) {\n                  //   console.log(res);\n                  _this2.setState({\n                    notices: res.data\n                  });\n                });\n                URL = API_URL + 'users/api/games/?term=Sports';\n                _context.next = 5;\n                return axios.get(URL, config).then(function (res) {\n                  _this2.setState({\n                    sports: res.data.slice(0, 3)\n                  });\n                });\n\n              case 5:\n                URL = API_URL + 'users/api/games/?term=Casino';\n                _context.next = 8;\n                return axios.get(URL, config).then(function (res) {\n                  _this2.setState({\n                    casino: res.data.slice(0, 3)\n                  });\n                });\n\n              case 8:\n                URL = API_URL + 'users/api/games/?term=Poker';\n                _context.next = 11;\n                return axios.get(URL, config).then(function (res) {\n                  _this2.setState({\n                    poker: res.data.slice(0, 3)\n                  });\n                });\n\n              case 11:\n                this.setState({\n                  ready: true\n                });\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var notices = this.state.notices;\n      var noticeStr = '';\n      notices.forEach(function (notice) {\n        var startTime = moment(notice.start_time);\n        startTime = startTime.format('MM/DD/YYYY h:mm a');\n        var endTime = moment(notice.end_time);\n        endTime = endTime.format('MM/DD/YYYY h:mm a');\n        var i18nMessage = notice.message;\n\n        if (_this3.props.lang === 'zh') {\n          i18nMessage = notice.message_zh;\n        } else if (_this3.props.lang === 'fr') {\n          i18nMessage = notice.message_fr;\n        } else {\n          i18nMessage = notice.message;\n        }\n\n        var message = startTime + \" ~ \" + endTime + \" \" + i18nMessage;\n        noticeStr += message;\n\n        for (var i = 0; i < 20; i++) {\n          noticeStr += \"\\xA0\";\n        }\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(TopNavbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), noticeStr && React.createElement(\"div\", {\n        style: {\n          overflowX: 'hidden',\n          zIndex: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Marquee, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, noticeStr)), this.state.ready && React.createElement(\"div\", {\n        className: \"games\",\n        style: {\n          marginTop: height * 0.1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"home.sports\",\n        defaultMessage: \"Most Popular Sports\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"rows\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, this.state.ready && this.state.sports.map(function (item) {\n        return React.createElement(\"div\", {\n          key: item.name,\n          className: \"each-game\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: \"/game_detail/\".concat(item.pk),\n          style: {\n            textDecoration: 'none'\n          },\n          onClick: function onClick() {},\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \" \", item.name, \" \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }), React.createElement(\"img\", {\n          src: item.image,\n          height: \"100\",\n          width: \"100\",\n          alt: \"Not available\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }));\n      })), this.state.ready && React.createElement(\"div\", {\n        className: \"poker\",\n        style: {\n          marginTop: height * 0.1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"home.poker\",\n        defaultMessage: \"Most Popluar Poker\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"rows\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, this.state.ready && this.state.poker.map(function (item) {\n        return React.createElement(\"div\", {\n          key: item.name,\n          className: \"each-game\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: \"/game_detail/\".concat(item.pk),\n          style: {\n            textDecoration: 'none'\n          },\n          onClick: function onClick() {},\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, \" \", item.name, \" \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }), React.createElement(\"img\", {\n          src: item.image,\n          height: \"100\",\n          width: \"100\",\n          alt: \"Not available\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }));\n      })), this.state.ready && React.createElement(\"div\", {\n        className: \"casino\",\n        style: {\n          marginTop: height * 0.1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"home.casino\",\n        defaultMessage: \"Most Popluar Casino\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"rows\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, this.state.ready && this.state.casino.map(function (item) {\n        return React.createElement(\"div\", {\n          key: item.name,\n          className: \"each-game\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: \"/game_detail/\".concat(item.pk),\n          style: {\n            textDecoration: 'none'\n          },\n          onClick: function onClick() {},\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \" \", item.name, \" \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }), React.createElement(\"img\", {\n          src: item.image,\n          height: \"100\",\n          width: \"100\",\n          alt: \"Not available\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }));\n      })), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    lang: state.language.lang\n  };\n};\n\nexport default connect(mapStateToProps, {\n  authCheckState: authCheckState\n})(Home);","map":{"version":3,"sources":["/Users/samet/myproject/myproject/ibet-web/src/components/home.js"],"names":["React","Component","Footer","TopNavbar","connect","authCheckState","FormattedMessage","Marquee","axios","config","moment","NavLink","API_URL","process","env","REACT_APP_REST_API","height","window","innerHeight","Home","state","notices","sports","casino","poker","ready","props","get","then","res","setState","data","URL","slice","noticeStr","forEach","notice","startTime","start_time","format","endTime","end_time","i18nMessage","message","lang","message_zh","message_fr","i","overflowX","zIndex","marginTop","map","item","name","pk","textDecoration","image","mapStateToProps","language"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Footer from \"./footer\";\nimport TopNavbar from \"./top_navbar\";\nimport { connect } from 'react-redux';\nimport { authCheckState } from '../actions';\nimport { FormattedMessage } from 'react-intl';\nimport Marquee from \"react-smooth-marquee\";\nimport axios from 'axios';\nimport { config } from '../util_config';\nimport moment from 'moment';\nimport { NavLink } from 'react-router-dom';\nimport '../css/home.css';\n\n\nconst API_URL = process.env.REACT_APP_REST_API;\n\nvar height = window.innerHeight\n\nexport class Home extends Component {\n\n  state = {\n    notices: [],\n    sports: [],\n    casino: [],\n    poker: [],\n    ready: false\n  }\n\n  async componentDidMount() {\n\n    this.props.authCheckState()\n    axios.get(API_URL + 'operation/api/notice-message', config)\n      .then(res => {\n        //   console.log(res);\n        this.setState({ notices: res.data });\n      })\n\n    var URL = API_URL + 'users/api/games/?term=Sports';\n\n    await axios.get(URL, config)\n      .then(res => {\n        this.setState({ sports: res.data.slice(0, 3) });\n      })\n\n    URL = API_URL + 'users/api/games/?term=Casino';\n\n    await axios.get(URL, config)\n      .then(res => {\n        this.setState({ casino: res.data.slice(0, 3) });\n      })\n\n    URL = API_URL + 'users/api/games/?term=Poker';\n\n    await axios.get(URL, config)\n      .then(res => {\n        this.setState({ poker: res.data.slice(0, 3) });\n      })\n\n    this.setState({ ready: true })\n\n  }\n\n  render() {\n\n    let notices = this.state.notices;\n\n    let noticeStr = '';\n    notices.forEach(notice => {\n      let startTime = moment(notice.start_time);\n      startTime = startTime.format('MM/DD/YYYY h:mm a');\n      let endTime = moment(notice.end_time);\n      endTime = endTime.format('MM/DD/YYYY h:mm a');\n      let i18nMessage = notice.message;\n      if (this.props.lang === 'zh') {\n        i18nMessage = notice.message_zh;\n      } else if (this.props.lang === 'fr') {\n        i18nMessage = notice.message_fr;\n      } else {\n        i18nMessage = notice.message;\n      }\n      let message = startTime + \" ~ \" + endTime + \" \" + i18nMessage;\n      noticeStr += message;\n      for (let i = 0; i < 20; i++) {\n        noticeStr += \"\\u00A0\";\n      }\n    });\n\n    return (\n      <div >\n        <TopNavbar />\n        \n        {noticeStr && <div style={{ overflowX: 'hidden', zIndex: 0 }}><Marquee >{noticeStr}</Marquee></div>}\n\n        {\n          this.state.ready &&\n          <div className='games' style={{ marginTop: height * 0.1 }}>\n            <FormattedMessage id=\"home.sports\" defaultMessage='Most Popular Sports' />\n          </div>\n        }\n\n        <div className=\"rows\" >\n          {\n            this.state.ready && this.state.sports.map(item => {\n              return (\n                  <div key={item.name} className='each-game' >\n                    <NavLink to = {`/game_detail/${item.pk}`} style={{ textDecoration: 'none' }} onClick={()=>{\n                        }}> {item.name} </NavLink>\n                    <br/>\n                    <img src={item.image} height = \"100\" width=\"100\" alt = 'Not available'/>\n                  </div>\n                )\n            })\n          }\n        </div>\n\n\n        {\n          this.state.ready &&\n          <div className='poker' style={{ marginTop: height * 0.1 }}>\n            <FormattedMessage id=\"home.poker\" defaultMessage='Most Popluar Poker' />\n          </div>\n        }\n\n        <div className=\"rows\" >\n          {\n            this.state.ready && this.state.poker.map(item => {\n              return (\n                  <div key={item.name} className='each-game'>\n                    <NavLink to = {`/game_detail/${item.pk}`} style={{ textDecoration: 'none' }} onClick={()=>{\n                        }}> {item.name} </NavLink>\n                    <br/>\n                    <img src={item.image} height = \"100\" width=\"100\" alt = 'Not available'/>\n                  </div>\n                )\n            })\n          }\n        </div>\n\n        {\n          this.state.ready &&\n          <div className='casino' style={{ marginTop: height * 0.1 }}>\n            <FormattedMessage id=\"home.casino\" defaultMessage='Most Popluar Casino' />\n          </div>\n        }\n\n        <div className=\"rows\" >\n          {\n            this.state.ready && this.state.casino.map(item => {\n              return (\n                  <div key={item.name} className='each-game'>\n                    <NavLink to = {`/game_detail/${item.pk}`} style={{ textDecoration: 'none' }} onClick={()=>{\n                        }}> {item.name} </NavLink>\n                    <br/>\n                    <img src={item.image} height = \"100\" width=\"100\" alt = 'Not available'/>\n                  </div>\n                )\n            })\n          }\n        </div>\n          <Footer/>\n      </div>\n\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    lang: state.language.lang\n  }\n}\n\nexport default connect(mapStateToProps, { authCheckState })(Home);"]},"metadata":{},"sourceType":"module"}